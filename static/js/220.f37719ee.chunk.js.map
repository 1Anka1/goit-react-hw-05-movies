{"version":3,"file":"static/js/220.f37719ee.chunk.js","mappings":"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","sources":["components/Api/api.jsx","webpack://react-homework-template/./src/components/shared/Loader/Loader.module.css?69b5","components/shared/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/MovieInfoPage/MovieInfoPage.module.scss?2efa","pages/MovieInfoPage/MovieInfoPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '0ce765f590cdfc1a886df1afd7d175f9';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const searchTrendDayMovie = async () => {\n  const response = await axios.get(`trending/all/day?api_key=${API_KEY}`);\n  return await response.data;\n};\n\nexport const searchMovieById = async id => {\n  const response = await axios.get(\n    `movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.data;\n};\n\nexport const searchMovieCast = async id => {\n  const response = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return await response.data;\n};\n\nexport const searchMovieReviews = async id => {\n  const response = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return await response.data;\n};\n\nexport const searchMovies = async query => {\n  const response = await axios.get(\n    `search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n  return await response.data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Loader_backdrop__w6Eyn\",\"loader\":\"Loader_loader__ixig6\"};","import React from 'react'\nimport css from '../Loader/Loader.module.css';\n\nexport default function Loader() {\n  return (\n    <div className={css.backdrop}>\n        <div className={css.loader}></div>\n    </div>\n  )\n}","// extracted by mini-css-extract-plugin\nexport default {\"goBackBtn\":\"MovieInfoPage_goBackBtn__0zWz6\",\"movieWrapper\":\"MovieInfoPage_movieWrapper__WivU4\",\"movieAdditionalWrapper\":\"MovieInfoPage_movieAdditionalWrapper__qFJHT\",\"movieImgThumb\":\"MovieInfoPage_movieImgThumb__kWaUY\",\"movieImg\":\"MovieInfoPage_movieImg__OtSff\",\"movieInfo\":\"MovieInfoPage_movieInfo__YgHgp\",\"movieTitle\":\"MovieInfoPage_movieTitle__zqYzr\",\"movieInfoList\":\"MovieInfoPage_movieInfoList__i1rYT\",\"movieAdditionalInfoList\":\"MovieInfoPage_movieAdditionalInfoList__IHcF-\",\"movieInfoItem\":\"MovieInfoPage_movieInfoItem__goQIA\",\"movieInfoDetail\":\"MovieInfoPage_movieInfoDetail__frQyv\",\"movieInfoWrapper\":\"MovieInfoPage_movieInfoWrapper__dXriN\",\"movieGenre\":\"MovieInfoPage_movieGenre__LTvIm\",\"movieInfoAbout\":\"MovieInfoPage_movieInfoAbout__5N3Pd\",\"link\":\"MovieInfoPage_link__mRGQ4\"};","import { searchMovieById } from \"components/Api/api\"\nimport Loader  from \"components/shared/Loader/Loader\"\nimport { useEffect, useState } from \"react\"\nimport { useParams, useNavigate, Outlet, NavLink, useLocation } from \"react-router-dom\"\nimport css from './MovieInfoPage.module.scss'\n\nexport default function MovieInfoPage() {\n    const [movie, setMovie] = useState('')\n    const [loading, setLoading] = useState(false)\n    const[error, setError] = useState(null)\n\n    const {id} = useParams()\n    const navigate = useNavigate()\n\n    const getClassName = ({ isActive }) => {\n        return isActive ? `${css.link} ${css.active}` : `${css.link}`;\n      };\n\n    const location = useLocation()\n    const from = location.state?.from || \"/\"\n    const goBack = () => navigate(from)\n\n\n    const castLink = location.pathname.includes(\"cast\") ? `/movies/${id}` : `/movies/${id}/cast`\n    const reviewsLink = location.pathname.includes(\"reviews\") ? `/movies/${id}` : `/movies/${id}/reviews`\n\n    const imagePath = movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : 'https://w7.pngwing.com/pngs/772/172/png-transparent-film-cinema-television-android.png';\n    const releaseDate = movie.release_date ? movie.release_date?.split('-')[0] : 'No data';\n\n    useEffect(() => {\n        const fetchMovie = async ()=> {          \n            try{\n                setLoading(true)\n                const data = await searchMovieById(id);\n                setMovie(data)\n\n            } catch (error) {\n                setError(error)\n            } finally {\n                setLoading(false)\n            }         \n        }\n\n        fetchMovie()\n\n    },[id])\n\n const { name, title, vote_average, overview} = movie;\n    return (\n      \n        \n    <section className={css.movieSection}>\n        <button type=\"button\" onClick={goBack} className={css.goBackBtn}>Go back</button>\n      {loading && <Loader />}\n      {error && (\n                <div className={css.movieImgThumb}>\n                    <h4>The resource you requested could not be found.</h4>\n                    <img src={'https://www.ra.bm/wp-content/themes/consultix/images/no-image-found-360x250.png'} alt='' className={css.movieImg}/>\n                </div>\n                )}\n\n      {movie && (\n        <>\n            <div className={css.movieWrapper}>\n                <div className={css.movieImgThumb}>\n                    <img src={imagePath} alt={name} className={css.movieImg}/>\n                </div>\n\n                <div className={css.movieInfo}>\n                    <h2 className={css.movieTitle}>{title || name} ({releaseDate})</h2>\n                    <ul className={css.movieInfoList}>\n                        <li className={css.movieInfoItem}>User score: <span className={css.movieInfoDetail}>{Math.round(vote_average * 10)}%</span></li>\n                    </ul>  \n                    <div className={css.movieInfoWrapper}>\n                        <h4>Overview</h4>\n                        <p className={css.movieInfoAbout}>{overview}</p>\n                    </div>   \n                    \n                    \n                    <div className={css.movieInfoWrapper}>\n                        <h4>Genres</h4>\n                        <p className={css.movieInfoAbout}>\n                            {movie.genres.map(({name, id}) => \n                                (<span  className={css.movieGenre} key = {id}>{name}</span>))}\n                        </p>\n                    </div>\n                \n                </div>\n            </div>\n\n            <div className={css.movieAdditionalWrapper}>\n                <h4>Additional information</h4>\n                <ul className={css.movieAdditionalInfoList}>\n                    <li><NavLink state = {{from}} to={castLink} className={getClassName}>Cast</NavLink></li> \n                    <li><NavLink state = {{from}} to={reviewsLink} className={getClassName}>Reviews</NavLink></li> \n                </ul>\n                <Outlet/>\n            </div>\n        </>)}\n    </section>\n  )\n}\n"],"names":["API_KEY","axios","searchTrendDayMovie","response","data","searchMovieById","id","searchMovieCast","searchMovieReviews","searchMovies","query","Loader","className","css","MovieInfoPage","useState","movie","setMovie","loading","setLoading","error","setError","useParams","navigate","useNavigate","getClassName","isActive","location","useLocation","from","state","castLink","pathname","includes","reviewsLink","imagePath","poster_path","releaseDate","release_date","split","useEffect","fetchMovie","name","title","vote_average","overview","type","onClick","src","alt","Math","round","genres","map","to"],"sourceRoot":""}